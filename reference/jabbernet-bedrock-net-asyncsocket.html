<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>AsyncSocket - Jabber-Net</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Friedrich von Never">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="https://fornever.github.io/Jabber-Net/content/style.css" />
    <script type="text/javascript" src="https://fornever.github.io/Jabber-Net/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <h3 class="muted"><a href="https://fornever.github.io/Jabber-Net/index.html">Jabber-Net</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          



<h1>AsyncSocket</h1>
<p>
  <span>Namespace: JabberNet.bedrock.net</span><br />
</p>
<div class="xmldoc">
</br><p class='summary'>
            An asynchronous socket, which calls a listener class when
            interesting things happen.
            </p></div>
  <h3>Constructors</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Constructor</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '248', 248)" onmouseover="showTip(event, '248', 248)">
            new(w, listener)
          </code>
          <div class="tip" id="248">
            <strong>Signature:</strong> (w:SocketWatcher * listener:ISocketEventListener) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Called from SocketWatcher.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '249', 249)" onmouseover="showTip(event, '249', 249)">
            new(w, listener, SSL, synch)
          </code>
          <div class="tip" id="249">
            <strong>Signature:</strong> (w:SocketWatcher * listener:ISocketEventListener * SSL:bool * synch:bool) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Called from SocketWatcher.
            </p>
        </td>
      </tr>
    </tbody>
  </table>
  <h3>Instance members</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Instance member</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '250', 250)" onmouseover="showTip(event, '250', 250)">
            Accept(addr, backlog)
          </code>
          <div class="tip" id="250">
            <strong>Signature:</strong> (addr:Address * backlog:int) -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Prepare to start accepting inbound requests.  Call
            RequestAccept() to start the async process.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '251', 251)" onmouseover="showTip(event, '251', 251)">
            Address
          </code>
          <div class="tip" id="251">
            <strong>Signature:</strong> Address<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            For connect sockets, the remote address.  For Accept sockets, the local address.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '252', 252)" onmouseover="showTip(event, '252', 252)">
            CertificateGui()
          </code>
          <div class="tip" id="252">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            If true the certificate selection dialog is called.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '253', 253)" onmouseover="showTip(event, '253', 253)">
            ChooseClientCertificate()
          </code>
          <div class="tip" id="253">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Choose a certificate from the local store.  If there are
            none available, returns right away.
            If there is exactly one, uses it.
            Otherwise, prompts.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '254', 254)" onmouseover="showTip(event, '254', 254)">
            ChooseClientCertificate(...)
          </code>
          <div class="tip" id="254">
            <strong>Signature:</strong> (acceptableIssuers:string []) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Choose a certificate from the local store.  If there are
            none available, returns right away.
            If there is exactly one, uses it.
            Otherwise, prompts.
            TODO: figure out something for server certs, too.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '255', 255)" onmouseover="showTip(event, '255', 255)">
            ChooseClientCertificate(...)
          </code>
          <div class="tip" id="255">
            <strong>Signature:</strong> (sender:obj * targetHost:string * localCertificates:X509CertificateCollection * remoteCertificate:X509Certificate * acceptableIssuers:string []) -&gt; X509Certificate<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Callback to choose client cert.
            TODO: this should surface an event of some kind.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '256', 256)" onmouseover="showTip(event, '256', 256)">
            Close()
          </code>
          <div class="tip" id="256">
            <strong>Signature:</strong> unit -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Close the socket.  This is NOT async.  .Net doesn't have
            async closes.  But, it can be *called* async, particularly
            from GotData.  Attempts to do a shutdown() first.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '257', 257)" onmouseover="showTip(event, '257', 257)">
            Connect(addr)
          </code>
          <div class="tip" id="257">
            <strong>Signature:</strong> addr:Address -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Outbound connection.  Eventually calls Listener.OnConnect() when
            the connection comes up.  Don't forget to call RequestRead() in
            OnConnect()!
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '258', 258)" onmouseover="showTip(event, '258', 258)">
            Connected
          </code>
          <div class="tip" id="258">
            <strong>Signature:</strong> bool<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Is the socket connected?
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '259', 259)" onmouseover="showTip(event, '259', 259)">
            Equals(val)
          </code>
          <div class="tip" id="259">
            <strong>Signature:</strong> val:obj -&gt; bool<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement Equals().  This checks the
            guid's for each socket to see if they are the same.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '260', 260)" onmouseover="showTip(event, '260', 260)">
            GetHashCode()
          </code>
          <div class="tip" id="260">
            <strong>Signature:</strong> unit -&gt; int<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            In case SocketWatcher wants to use a HashTable.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '261', 261)" onmouseover="showTip(event, '261', 261)">
            IsMutuallyAuthenticated
          </code>
          <div class="tip" id="261">
            <strong>Signature:</strong> bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Is the connection mutually authenticated?  (was there a good client cert, etc.)
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '262', 262)" onmouseover="showTip(event, '262', 262)">
            LocalCertificate()
          </code>
          <div class="tip" id="262">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            The local certificate of the socket.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '263', 263)" onmouseover="showTip(event, '263', 263)">
            RemoteCertificate
          </code>
          <div class="tip" id="263">
            <strong>Signature:</strong> X509Certificate<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Get the certificate of the remote endpoint of the socket.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '264', 264)" onmouseover="showTip(event, '264', 264)">
            RequestAccept()
          </code>
          <div class="tip" id="264">
            <strong>Signature:</strong> unit -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Start the flow of async accepts.  Flow will continue while
            Listener.OnAccept() returns true.  Otherwise, call
            RequestAccept() again to continue.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '265', 265)" onmouseover="showTip(event, '265', 265)">
            RequestRead()
          </code>
          <div class="tip" id="265">
            <strong>Signature:</strong> unit -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Start an async read from the socket.  Listener.OnRead() is
            eventually called when data arrives.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '266', 266)" onmouseover="showTip(event, '266', 266)">
            RequireClientCert()
          </code>
          <div class="tip" id="266">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Does the server require a client cert?  If not, the client cert won't be sent.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '267', 267)" onmouseover="showTip(event, '267', 267)">
            SetSocketOption(...)
          </code>
          <div class="tip" id="267">
            <strong>Signature:</strong> (optionLevel:SocketOptionLevel * optionName:SocketOptionName * optionValue:byte []) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Sets the specified option to the specified value.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '268', 268)" onmouseover="showTip(event, '268', 268)">
            SetSocketOption(...)
          </code>
          <div class="tip" id="268">
            <strong>Signature:</strong> (optionLevel:SocketOptionLevel * optionName:SocketOptionName * optionValue:int) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Sets the specified option to the specified value.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '269', 269)" onmouseover="showTip(event, '269', 269)">
            SetSocketOption(...)
          </code>
          <div class="tip" id="269">
            <strong>Signature:</strong> (optionLevel:SocketOptionLevel * optionName:SocketOptionName * optionValue:obj) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Sets the specified option to the specified value.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '270', 270)" onmouseover="showTip(event, '270', 270)">
            SocketWatcher
          </code>
          <div class="tip" id="270">
            <strong>Signature:</strong> SocketWatcher<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Retrieve the socketwatcher used by this instance of AsyncSocket
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '271', 271)" onmouseover="showTip(event, '271', 271)">
            SSL
          </code>
          <div class="tip" id="271">
            <strong>Signature:</strong> bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Are we using SSL/TLS?
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '272', 272)" onmouseover="showTip(event, '272', 272)">
            StartCompression()
          </code>
          <div class="tip" id="272">
            <strong>Signature:</strong> unit -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Start XEP-138 compression on this socket.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '273', 273)" onmouseover="showTip(event, '273', 273)">
            StartTLS()
          </code>
          <div class="tip" id="273">
            <strong>Signature:</strong> unit -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Start TLS processing on an open socket.
            </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '274', 274)" onmouseover="showTip(event, '274', 274)">
            ToString()
          </code>
          <div class="tip" id="274">
            <strong>Signature:</strong> unit -&gt; string<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Return a string representation of this socket
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '275', 275)" onmouseover="showTip(event, '275', 275)">
            Write(buf, offset, len)
          </code>
          <div class="tip" id="275">
            <strong>Signature:</strong> (buf:byte [] * offset:int * len:int) -&gt; unit<br />
              <strong>Modifiers:</strong> abstract<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            Async write to the socket.  Listener.OnWrite will be
            called eventually when the data has been written.  A
            trimmed copy is made of the data, internally.
            </p>
        </td>
      </tr>
    </tbody>
  </table>
  <h3>Static members</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Static member</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '276', 276)" onmouseover="showTip(event, '276', 276)">
            op_Equality(one, two)
          </code>
          <div class="tip" id="276">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement ==.  Checks for guid equality.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '277', 277)" onmouseover="showTip(event, '277', 277)">
            op_GreaterThan(one, two)
          </code>
          <div class="tip" id="277">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement comparison operators.
            Checks compares guids.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '278', 278)" onmouseover="showTip(event, '278', 278)">
            op_GreaterThanOrEqual(one, two)
          </code>
          <div class="tip" id="278">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement comparison operators.  Checks compares guids.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '279', 279)" onmouseover="showTip(event, '279', 279)">
            op_Inequality(one, two)
          </code>
          <div class="tip" id="279">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement comparison operators.
            Checks compares guids.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '280', 280)" onmouseover="showTip(event, '280', 280)">
            op_LessThan(one, two)
          </code>
          <div class="tip" id="280">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement comparison operators.  Checks compares guids.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '281', 281)" onmouseover="showTip(event, '281', 281)">
            op_LessThanOrEqual(one, two)
          </code>
          <div class="tip" id="281">
            <strong>Signature:</strong> (one:AsyncSocket * two:AsyncSocket) -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
            IComparable's need to implement comparison operators.
            Checks compares guids.
            </p><p class='returns'>Returns: </p>
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '282', 282)" onmouseover="showTip(event, '282', 282)">
            UntrustedRootOK()
          </code>
          <div class="tip" id="282">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
          </br><p class='summary'>
             Are untrusted root certificates OK when connecting using
             SSL?  Setting this to true is insecure, but it's unlikely
             that you trust jabbber.org or jabber.com's relatively
             bogus certificate roots.
            
             Setting this modifies AllowedSSLErrors by side-effect.
             </p>
        </td>
      </tr>
    </tbody>
  </table>

        </div>
        <div class="span3">
          <ul class="nav nav-list" id="menu">

            <li class="nav-header">Jabber-Net</li>

            <li class="divider"></li>

            <li><a href="https://www.nuget.org/packages/jabber-net/">Get Jabber-Net package via NuGet</a></li>
            <li><a href="https://github.com/ForNeVeR/Jabber-Net">Source Code on GitHub</a></li>
            <li><a href="https://github.com/ForNeVeR/Jabber-Net/blob/develop/Licensing.md">License (LGPL)</a></li>

            <li class="nav-header">Documentation</li>

            <li><a href="https://fornever.github.io/Jabber-Net/index.html">Getting Started</a></li>

            <li class="divider"></li>

            <li><a href="https://fornever.github.io/Jabber-Net/FAQ.html">Frequently-Asked Questions about Jabber-Net</a></li>

            <li class="divider"></li>

            <li><a href="https://fornever.github.io/Jabber-Net/SendMessage.html">How to send a message</a></li>

            <li class="nav-header">Internal documentation</li>

            <li><a href="https://fornever.github.io/Jabber-Net/docker-env.html">Preparing a Docker environment for manual testing</a></li>

            <li class="nav-header">Reference</li>

            <li><a href="https://fornever.github.io/Jabber-Net/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/ForNeVeR/Jabber-Net"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>
